<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reviews.css">
    <script src="reviews.js"></script>
</head>
<body>
    <div id="section-1">
        <nav class="navbar">
            <ul>
                <li><a href="project.html" class="line"><img src="logo.png" class="logo"></a></li>
                <li class="name">AUTOSPHERE</li>
                <li><a href="project.html" class="line">Home</a></li>
                <li><a href="#" class="line">About</a></li>
                <li><a href="#" class="line">How it works</a></li>
                <li><a href="#" class="line">Reviews</a></li>
                <li><a href="#" class="favorite trigger-favorites"><i class="fa-regular fa-heart" id="icon-regular"></i>
                        <i class="fa-solid fa-heart" id="icon-solid"></i></a></li>

                <li class="dropdown">
                    <div>
                        <a href="#" class="dropbtn"><i class="fa-regular fa-user"></i>Login</a>
                        <ul class="dropdown-content">
                            <li class="login-text trigger-favorites"><a href="#"><i class="fa-regular fa-heart"></i>Favorite cars</a></li>
                            <input id="button" type="submit" value="Login" onclick="window.location.href='login.html';">
                            <li>
                                <div class="sign-up">
                                    <a>Don't have an account?</a> <a href="register.html" class="sign" style="color: rgb(141, 224, 32);text-decoration: none;
                            font-weight: 500;"> <br> Sign up</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
    </div>
    <div id="favorites-modal"
        style="display: none; position: fixed; top: 20%; left: 50%; transform: translate(-50%, -20%); width: 80%; background: white; border: 1px solid #ddd; padding: 20px; border-radius: 5px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); z-index: 1000;">
        <h2>Favorites</h2>
        <div id="favorites-container" style="display: flex; flex-wrap: wrap; gap: 20px;">
        </div>
        <button id="close-favorites"
            style="background: #8de020; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px;">Close</button>
    </div>
    <div id="overlay"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;">
    </div>

    <section id="reviews-section">
        <h2>Reviews</h2>
        <div id="reviews-list">
        </div>
      
        <h3>Write your Feedback</h3>
        <form id="review-form">
          <label for="review-text">Comment:</label>
          <textarea id="review-text" required></textarea>
      
          <label for="review-rating">Rate? (1-5):</label>
          <select id="review-rating" required>
            <option value="5">5 - Exellent</option>
            <option value="4">4 - Very Good</option>
            <option value="3">3 - Good</option>
            <option value="2">2 - Not Good</option>
            <option value="1">1 - Very Bad</option>
          </select>
      


          <button type="submit">Post your Review</button>
        </form>
      </section>
      




















    <script>
        $(document).ready(function () {
    const cars = [
        { id: 1, brand: "Mercedes", model: "E Class", price: "$69,900", image: "Mercedes-Benz/E-class/normal/e7.jfif" },
        { id: 2, brand: "Audi", model: "A3 Cabriolet", price: "$37,000", image: "Audi/A3/kabriolet/a1.jfif" },
        { id: 3, brand: "Mercedes", model: "S Class", price: "$130,000", image: "Mercedes-Benz/S-class/normal/s.jfif" },
        { id: 4, brand: "Mercedes", model: "C Class", price: "$37,200", image: "Mercedes-Benz/C-class/coupe/c2.jfif" },
        { id: 5, brand: "Audi", model: "S8", price: "$65,000", image: "Audi/A8/s8/a1.jfif" },
        { id: 6, brand: "Audi", model: "A6", price: "$41,500", image: "Audi/A6/normal/a.jfif"}

    ];


    function renderFavorites() {
        const favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        const favoritesContainer = $("#favorites-container");
        favoritesContainer.empty(); 

        if (favorites.length === 0) {
            favoritesContainer.html("<p>No cars in your favorites.</p>");
        } else {
            favorites.forEach(carId => {
                const car = cars.find(c => c.id === carId);
                if (car) {
                    const carCard = `
                        <div class="car-card" style="border: 1px solid #ddd; padding: 10px; width: 480px; border-radius: 5px; text-align: center;">
                            <img src="${car.image}" alt="${car.brand} ${car.model}" style="width: 100%; height: auto; border-radius: 5px;">
                            <h3>${car.brand} ${car.model}</h3>
                            <p>Price: ${car.price}</p>
                            <button class="remove-from-favorites-btn" data-id="${car.id}" style="background: red; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Remove</button>
                        </div>
                    `;
                    favoritesContainer.append(carCard);
                }
            });
        }
    }

    $(".trigger-favorites").click(function (e) {
        e.preventDefault();
        renderFavorites();
        $("#favorites-modal").show();
        $("#overlay").show();
    });

    $("#close-favorites, #overlay").click(function () {
        $("#favorites-modal").hide();
        $("#overlay").hide();
    });

    $("#favorites-container").on("click", ".remove-from-favorites-btn", function () {
        const carId = $(this).data("id");
        let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        favorites = favorites.filter(id => id !== carId); 
        localStorage.setItem("favorites", JSON.stringify(favorites)); 
        renderFavorites();
    });
});
    </script>



</body>
</html>