<!DOCTYPE html>

<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" , initial-scale="1.0">
    <link rel="stylesheet" href="project.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    
</head>

<body>
    <div id="menu-icon">
        <i class="fa-solid fa-bars" style="color: #8de020;"></i>
    </div>
    <div id="overlay1">
        <div id="menu">
                <ul style="text-align: center;">
                    <li><a href="project.html"><img src="logo.png" class="logo"></a></li>
                    <li class="name">AUTOSPHERE</li>
                    <li><a href="project.html" class="line">Home</a></li>
                    <li><a href="/about-us.html" class="line">About Us</a></li>
                    <li><a href="/howitworks.html" class="line">How it works</a></li>
                    <li><a href="/reviews.html" class="line">Reviews</a></li>
                    <li class="dropdown">
                        <div>
                                <li class="login-text trigger-favorites"><a href="#"><i
                                            class="fa-regular fa-heart"></i>Favorite cars</a></li>
                                <input id="button" type="submit" value="Login" onclick="window.location.href='login.html';">
                                <li>
                                    <div class="sign-up">
                                        <a>Don't have an account?</a> <a href="register.html" class="sign" style="color: rgb(141, 224, 32);text-decoration: none;
                                font-weight: 500;"> <br> Sign up</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
        </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const menuIcon = document.getElementById("menu-icon");
        const menu = document.getElementById("menu");
        const overlay = document.getElementById("overlay1");

        function toggleMenu() {
            menu.classList.toggle("active");
            overlay.classList.toggle("active");
        }

        menuIcon.addEventListener("click", toggleMenu);
        overlay.addEventListener("click", toggleMenu);
    });
    </script>
    <div id="favorites-modal"
    style="display: none; position: fixed; top: 20%; left: 50%; transform: translate(-50%, -20%); width: 80%; background: white; border: 1px solid #ddd; padding: 20px; border-radius: 5px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); z-index: 1000;">
    <h2>Favorites</h2>
    <div id="favorites-container" style="display: flex; flex-wrap: wrap; gap: 20px;">
    </div>
    <button id="close-favorites"
        style="background: #8de020; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px;">Close</button>
</div>
<div id="overlay"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;">
</div>
<script src="favorite1.js"></script>
</div>
    <div id="section-1">
        <nav class="navbar">
            <ul>
                <li><a href="project.html"><img src="logo.png" class="logo"></a></li>
                <li class="name">AUTOSPHERE</li>
                <li><a href="project.html" class="line">Home</a></li>
                <li><a href="/about-us.html" class="line">About Us</a></li>
                <li><a href="/howitworks.html" class="line">How it works</a></li>
                <li><a href="/reviews.html" class="line">Reviews</a></li>
                <li><a href="#" class="favorite trigger-favorites"><i class="fa-regular fa-heart" id="icon-regular"></i>
                        <i class="fa-solid fa-heart" id="icon-solid"></i></a></li>

                <li class="dropdown">
                    <div>
                        <a href="#" class="dropbtn"><i class="fa-regular fa-user"></i>Login</a>
                        <ul class="dropdown-content">
                            <li class="login-text trigger-favorites"><a href="#"><i
                                        class="fa-regular fa-heart"></i>Favorite cars</a></li>
                            <input id="button" type="submit" value="Login" onclick="window.location.href='login.html';">
                            <li>
                                <div class="sign-up">
                                    <a>Don't have an account?</a> <a href="register.html" class="sign" style="color: rgb(141, 224, 32);text-decoration: none;
                            font-weight: 500;"> <br> Sign up</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
    </div>
    <div id="section-2">
        <div id="sllogani">
            <p id="slg0">Drive Your Dream</p>
            <p id="slg">Only a Click Away!</p>
        </div>
        <div id="section-3">
            
            <div class="right">
                <div class="horizontale">
                    <div>
                        <button class="btnMenu" id="brandButton">Brand &nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &#9660;</button>
                        <ul style="list-style: none; padding: 0; margin: 0; display: none; max-height: 100px; overflow-y: scroll; border: 1px solid #ddd;"
                            class="Menu" id="brandMenu">
                            <li><a href="#" data-brand="Mercedes">Mercedes Benz</a></li>
                            <li><a href="#" data-brand="Audi">Audi</a></li>
                            <li><a href="#" data-brand="BMW">BMW</a></li>
                        </ul>
                    </div>
                    <div>
                        <button class="btnMenu" id="modelButton">Model&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &#9660;</button>
                        <ul style="list-style: none; padding: 0; margin: 0; display: none; max-height: 150px; overflow-y: scroll; border: 1px solid #ddd;"
                            class="Menu" id="modelMenu">

                        </ul>
                    </div>
                </div>
                <script>
                    document.addEventListener("DOMContentLoaded", function () {
                        let selectedBrand = "";
                        let selectedModel = "";
                
                        const models = {
                            Mercedes: ["A Class", "B Class", "C Class", "E Class", "S Class", "GLA", "GLB", "GLE", "GLS", "Maybach"],
                            Audi: ["A1", "A3", "A4", "A5", "A6", "A7", "A8L", "Q2", "Q3", "Q5", "Q7", "Q8", "E-tron"],
                            BMW: ["Series 1", "Series 3", "Series 4", "Series 5", "X1", "X2", "X3", "X4", "X5", "X6", "X7", "I7"]
                        };
                
                        const combinations = {
                            "mercedes": "mercedes.html",
                            "mercedes-a-class": "mercedesA.html",
                        };
        
                        document.querySelectorAll("#brandMenu a").forEach(item => {
                            item.addEventListener("click", function (e) {
                                e.preventDefault();
                                selectedBrand = this.dataset.brand;
                                document.getElementById("brandButton").textContent = selectedBrand;
                
                                const modelList = models[selectedBrand] || [];
                                const modelMenu = document.getElementById("modelMenu");
                                modelMenu.innerHTML = modelList.map(model => `<li><a href="#" data-model="${model}">${model}</a></li>`).join("");
                                document.getElementById("modelButton").textContent = "Model";
                                modelMenu.style.display = "none";
                            });
                        });

                        document.getElementById("modelMenu").addEventListener("click", function (e) {
                            if (e.target.tagName === "A") {
                                e.preventDefault();
                                selectedModel = e.target.dataset.model;
                                document.getElementById("modelButton").textContent = selectedModel;
                            }
                        });

                        document.getElementById("extrapart").addEventListener("click", function () {
                            let key = "";
                
                            if (selectedBrand) {
                                key = selectedBrand.toLowerCase().replace(/\s+/g, '-');
                                if (selectedModel) {
                                    key += '-' + selectedModel.toLowerCase().replace(/\s+/g, '-');
                                }
                            }
                
                            if (!selectedBrand && !selectedModel) {
                                window.location.href = "cars.html";
                            } else if (combinations[key]) {
                                window.location.href = combinations[key];
                            } else {
                                alert("No page found for this combination. Please select valid options.");
                            }
                        });
                
                        document.querySelectorAll(".btnMenu").forEach(button => {
                            button.addEventListener("click", function () {
                                const menuId = this.id.replace("Button", "Menu");
                                const menu = document.getElementById(menuId);
                                const isVisible = menu.style.display === "block";
                                document.querySelectorAll(".Menu").forEach(menu => (menu.style.display = "none"));
                                menu.style.display = isVisible ? "none" : "block";
                            });
                        });
                    });
                </script>
                <input id="extrapart" class="extra-part" type="submit" value="Search"
                    style="height: 32px; width: 170px; border:rgba(141,224,32,1); background: #8de020 ;color:white">
            </div>
        </div>
    </div>

    <div id="favorites-modal"
        style="display: none; position: fixed; top: 20%; left: 50%; transform: translate(-50%, -20%); width: 80%; background: white; border: 1px solid #ddd; padding: 20px; border-radius: 5px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); z-index: 1000;">
        <h2>Favorites</h2>
        <div id="favorites-container" style="display: flex; flex-wrap: wrap; gap: 20px;">
        </div>
        <button id="close-favorites"
            style="background: #8de020; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px;">Close</button>
    </div>
    <div id="overlay"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;">
    </div>

    <div id="available-cars" style="padding: 20px; margin-top: 20px; background: white;">
        <h2 style="text-align: center;">Deals of the Week</h2>
        <div id="cars-container" style="display: flex; flex-wrap: wrap; gap: 20px;">
        </div>
    </div>
    <div id="Footer"></div>
    <script>
        fetch('footer.html')
          .then(response => response.text())
          .then(data => {
            document.getElementById('Footer').innerHTML = data;
          });
      </script>

    <script src="favorite.js"></script>
</body>
</html>